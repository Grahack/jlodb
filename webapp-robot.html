<!DOCTYPE HTML>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr" lang="fr">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Robotware</title>
    <script type="text/javascript" src="js/jquery-1.8.1.min.js"></script>
    <script type="text/javascript" src="js/jquery-ui-1.8.23.custom.min.js"></script>
    <script type="text/javascript" src="js/jquery.ui.touch-punch.min.js"></script>
    <script type="text/javascript" src="js/jquery.svg.min.js"></script>
    <script type="text/javascript" src="js/jquery.cookie.js"></script>
    <script type="text/javascript" src="js/jquery.jlodb.js"></script>
    <script type="text/javascript" src="js/jquery.jlodb.menu.js"></script>
    <link type="text/css" rel="stylesheet" href="css/jlodb.css" media="all" />
    <link rel="apple-touch-icon-precomposed" href="res/img/activity/icon/robot44.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="res/img/activity/icon/robot72.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="res/img/activity/icon/robot114.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="res/img/activity/icon/robot144.png" />
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <style>
    #main>#rmenu                { background-color:#99DDFF; width:100%; height:100%;
                                  background-size:100%; background-image:url("res/img/webapp/robot/bg01.svg"); }
    #main.p1>#rmenu             { background-color:#FFFF99; }
    #main.p2>#rmenu             { background-color:#99FF99; }
    #main.p3>#rmenu             { background-color:#FF9999; }
    #main.p4>#rmenu             { background-color:#FF99FF; }
    #main>#rmenu .content       { font-size:2.4em; width:6em; height:3.6em; margin:0 auto; margin-top:0.1em;
                                  background-color:rgba(255,255,255,0.6); border-radius:.1em;}
    #main>#rmenu>.tabs          { margin:.2em 1.2em; font-size:2em; width:100%; height:1.2em; }
    #main>#rmenu>.tabs div      { width:1em; height:1em; margin:.05em; cursor:pointer; float:left; }
    #main>#rmenu>.tabs div.s    { background-color:gray; }
    #main>#appsplash>div        { background-image:url("res/img/webapp/robot/banner01.svg"); background-color:rgba(255,255,255,0.2);}
    </style>
    <script>

var app = {
    cookie      : function() { return "webapp-robot"+(app.page+1); },
    data        : [
        ["rtopaa","rtopab","rtopac","rtopad","rtopae","rtopba","rtopbb","rtopbc","rtopbd","rtopbe","rtopbf","rtopbg","rtopbh","rtopbi","rtopbj","rtopbk","rtopbl","rtopbm","rtopbn","rtopbo","rtopbp","rtopbq","rtopca","rtopda","rtopdb","rtopdc","rtopdd","rtopde","rtopdf","rtopdg","rtopdh","rtopdi","rtopdj","rtopea","rtopeb","rtopec","rtopfa","rtopfb","rtopfc","rtopfd","rtopfe","rtopfA","rtopfB","rtopfC","rtopfD","rtopfE","rtopf1","rtopf2","rtopf3","rtopf4"],
        ["rtevaa","rtevab","rtevac","rtevad","rtevae","rtevaf","rtevag","rtevah","rtevai","rtevaj","rtevba","rtevbb","rtevbc","rtevbd","rtevbe","rtevbf","rtevbg","rtevbh","rtevbi","rtevbk","rtevca","rtevcb","rtevcc","rtevcd","rtevce","rtevcf","rtevcg","rtevch","rtevci","rtevcj","rtevck","rtevcl","rtevcm","rtevcn","rtevco","rtevcp","rtevcq","rtevcr","rtevcs","rtevct","rtopga","rtopgb","rtopgc","rtopgd","rtopge","rtopgf","rtopgg","rtopgh","rtopgi","rtopgj"],
        ["rtitaa","rtitab","rtitac","rtitad","rtitae","rtitaf","rtitag","rtitah","rtitai","rtitaj","rtitba","rtitbb","rtitbc","rtitbd","rtitbe","rtitbf","rtitbg","rtitbh","rtitbi","rtitbj","rtitbk","rtitbl","rtitbm","rtitbn","rtitbo","rtitbp","rtitbq","rtitbr","rtitbs","rtitbt","rtitca","rtitcb","rtitcc","rtitcd","rtitce","rtitcf","rtitcg","rtitch","rtitci","rtitcj","rtitck","rtitda","rtitdb","rtitdc","rtitdd","rtitde","rtitdf","rtitdg","rtitdh","rtitdi"],
        ["rtfuaa","rtfuab","rtfuac","rtfuad","rtfuae","rtfuaf","rtfuag","rtfuah","rtfuai","rtfuaj","rtfuak","rtfual","rtfuam","rtfuan","rtfuao","rtfuap","rtfuaq","rtfuar","rtfuas","rtfuat","rtfuba","rtfubb","rtfubc","rtfubd","rtfube","rtfubf","rtfubg","rtfubh","rtfubi","rtfubj","rtfuca","rtfucb","rtfucc","rtfucd","rtfuce","rtfucf","rtfucg","rtfuch","rtfuci","rtfucj","rtfuda","rtfudb","rtfudc","rtfudd","rtfude","rtfudf","rtfudg","rtfudh","rtfudi","rtfudj"],
        ["rtteaa","rtteab","rtteac","rttead","rtteae","rtteaf","rtteag","rtteah","rtteai","rtteaj","rtteak","rtteal","rtteam","rttean","rtteao","rtteba","rttebb"]
    ],
    page        : 0,
    toggle      : function(_page) {
        app.page = _page;
        $("#main").removeClass().addClass("p"+_page);
        var c = $.cookie(app.cookie());
        if (!c) { c="."; for (var i=0; i<app.data[app.page].length; i++) { c+="l"; } }

        $("#rmenu>.content").menu({
            list    : app.data[app.page],
            state   : c,
            onupdate: function($this, _state) { $.cookie(app.cookie(),_state, { expires : 365 }); },
            onclick : function($this, _args) {
                $("#waiting").show().find("div").addClass("running");
                $("#launcher").jlodb({
                    onstart:    function($this) { $("#rmenu").hide(); $("#waiting").hide().find("div").removeClass("running"); },
                    onfinish:   function($this) { $("#main").addClass("nosplash"); $("#rmenu").show(); $("#score").removeClass().hide(); },
                    onscore:    function($this, _ret) {
                        var isnext = false;
                        if (_ret.score>2) { isnext = $("#rmenu>.content").menu('score', _ret.score).menu('more'); }
                        $("#score #next").toggle(isnext);
                        $("#score").attr("class","s"+_ret.score).show();
                        return true; } },_args);
            }
        });
    }
};

window.onload = function() {
    // GET AND RESIZE THE BEST PANEL
    var x = Math.floor($(window).width()/16);
    var y = Math.floor($(window).height()/12);
    $("body").css("font-size", (Math.min(x,y))+"px");
    $("#main").css("margin-top", Math.floor(($(window).height()-$("#main").height())/2)+"px").show();

    app.toggle(0);
};
    </script>
</head>

<body>
    <div id="main">
        <div id="rmenu">
            <div class="content"></div>
            <div class="tabs">
                <div ontouchstart="app.toggle(0);event.preventDefault();" onclick="app.toggle(0);">
                    <img src="res/img/webapp/robot/bdo.svg"/>
                </div>
                <div ontouchstart="app.toggle(1);event.preventDefault();" onclick="app.toggle(1);">
                    <img src="res/img/webapp/robot/bev.svg"/>
                </div>
                <div ontouchstart="app.toggle(2);event.preventDefault();" onclick="app.toggle(2);">
                    <img src="res/img/webapp/robot/bfo.svg"/>
                </div>
                <div ontouchstart="app.toggle(3);event.preventDefault();" onclick="app.toggle(3);">
                    <img src="res/img/webapp/robot/bfc.svg"/>
                </div>
                <div ontouchstart="app.toggle(4);event.preventDefault();" onclick="app.toggle(4);">
                    <img src="res/img/webapp/robot/bif.svg"/>
                </div>
            </div>
        </div>

        <div id="waiting"><div><img src="res/img/generic/waiting.svg"/></div></div>

        <div id="score"><div>
            <div class="content">
                <div class="value"></div><div class="stars"></div>
                <div class="icon" id="reload" ontouchstart="$('#launcher').jlodb('reload');event.preventDefault();"
                    onclick="$('#launcher').jlodb('reload');" ><img src="res/img/icon/reload.svg"/></div>
                <div class="icon" id="menu" ontouchstart="$('#launcher').jlodb('close',true);event.preventDefault();"
                    onclick="$('#launcher').jlodb('close',true);" ><img src="res/img/icon/menu.svg"/></div>
                <div class="icon" id="next" ontouchstart="$('#launcher').jlodb('close',false);$('#rmenu>.content').menu('next');event.preventDefault();"
                    onclick="$('#launcher').jlodb('close',false);$('#rmenu>.content').menu('next');"><img src="res/img/icon/next.svg"/></div>
            </div>
        </div></div>

        <div id="launcher">
            <div id="quit" ontouchstart="$('#launcher').jlodb('quit');event.preventDefault();"
                        onclick="$('#launcher').jlodb('quit');"><img src="res/img/icon/quit.svg"/></div>
            <div id="activity"></div>
        </div>

        <div id="appsplash"><div onclick="$(this).parent().hide();" ontouchstart="$(this).parent().hide();event.preventDefault();"></div></div>
    </div>
</body>
</html>